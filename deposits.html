<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DPDP CMP ‚Äî Fixed Deposit / Recurring Deposit Notice</title>

  <style>
    :root{
      --bg:#0b1220;
      --text:#e6e9f2;
      --muted:#a9b2c7;
      --line:rgba(255,255,255,.10);
      --chip:rgba(255,255,255,.09);
      --good:#22c55e;
      --warn:#f59e0b;
      --bad:#ef4444;
      --accent:#60a5fa;
      --accent2:#a78bfa;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans";
      background: radial-gradient(1200px 600px at 20% -10%, rgba(96,165,250,.25), transparent 55%),
                  radial-gradient(1000px 500px at 90% 0%, rgba(167,139,250,.18), transparent 50%),
                  var(--bg);
      color:var(--text);
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:980px;margin:0 auto;padding:28px 18px 64px;}
    header{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;margin-bottom:18px;}
    .brand{display:flex;gap:12px;align-items:center;}
    .logo{
      width:44px;height:44px;border-radius:14px;
      background: linear-gradient(135deg, rgba(96,165,250,.95), rgba(167,139,250,.95));
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      display:grid;place-items:center;
      font-weight:800;letter-spacing:.5px;
    }
    h1{font-size:18px;margin:0 0 6px;font-weight:800;}
    .subtitle{margin:0;color:var(--muted);font-size:13px;line-height:1.4;max-width:760px;}

    .toolbar{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end;}
    .btn{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:650;
      font-size:13px;
      transition: transform .05s ease, background .15s ease, border .15s ease;
      user-select:none;
    }
    .btn:hover{background: rgba(255,255,255,.09)}
    .btn:active{transform: translateY(1px)}
    .btn.primary{border:1px solid rgba(96,165,250,.35);background: rgba(96,165,250,.18);}
    .btn.danger{border:1px solid rgba(239,68,68,.35);background: rgba(239,68,68,.12);}

    .pillrow{display:flex;flex-wrap:wrap;gap:8px;margin:14px 0 18px;}
    .pill{
      background: rgba(255,255,255,.09);
      border:1px solid rgba(255,255,255,.10);
      color: var(--muted);
      padding: 8px 10px;
      border-radius: 999px;
      font-size: 12px;
      display:flex;align-items:center;gap:8px;
    }
    .dot{width:8px;height:8px;border-radius:999px;background: rgba(255,255,255,.35);}
    .dot.good{background: #22c55e}
    .dot.accent{background: #60a5fa}
    .dot.warn{background: #f59e0b}

    .grid{display:grid;grid-template-columns:1fr;gap:14px;}

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .cardhead{
      padding:14px 14px 12px;
      display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
      cursor:pointer;
    }
    .cardtitle{display:flex;align-items:flex-start;gap:10px;min-width:0;}
    .ico{
      width:34px;height:34px;border-radius:12px;
      background: rgba(255,255,255,.07);
      border:1px solid rgba(255,255,255,.10);
      display:grid;place-items:center;
      flex:0 0 auto;
    }
    .cardtitle h2{margin:0;font-size:14px;font-weight:850;line-height:1.2;}
    .meta{margin-top:6px;display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
    .chip{
      font-size:12px;color: var(--muted);
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      padding:6px 8px;border-radius:999px;
      display:inline-flex;align-items:center;gap:6px;
    }
    .chip strong{color: var(--text); font-weight:750}

    .toggleWrap{display:flex;flex-direction:column;align-items:flex-end;gap:8px;flex:0 0 auto;}
    .status{font-size:11.5px;color: var(--muted);text-align:right;max-width:260px;line-height:1.2;}

    .toggle{
      position:relative;width:52px;height:30px;border-radius:999px;
      border:1px solid rgba(255,255,255,.10);background: rgba(255,255,255,.08);
      cursor:pointer;transition: background .15s ease, border .15s ease;outline:none;
    }
    .toggle[aria-checked="true"]{background: rgba(34,197,94,.24);border-color: rgba(34,197,94,.35);}
    .toggle[disabled]{cursor:not-allowed;opacity:.65;filter:saturate(.7);}
    .knob{
      position:absolute;top:3px;left:3px;width:24px;height:24px;border-radius:999px;
      background: rgba(255,255,255,.85);transition: transform .15s ease;
      box-shadow: 0 6px 14px rgba(0,0,0,.25);
    }
    .toggle[aria-checked="true"] .knob{transform: translateX(22px);}

    .body{
      padding: 0 14px 14px;
      border-top: 1px solid rgba(255,255,255,.10);
      background: rgba(15,23,42,.35);
      display:none;
    }

    .subcard{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.045);
      border-radius:16px;
      padding:12px;
      margin-top:12px;
    }
    .subhead{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px;}
    .subhead h3{margin:0;font-size:13px;font-weight:850;}
    .submeta{display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
    .hint{color: var(--muted);font-size:12px;line-height:1.4;margin-top:8px;}

    .row{display:grid;grid-template-columns:1fr;gap:10px;}
    @media (min-width: 760px){.row{grid-template-columns:1fr 1fr;gap:12px;}}
    .label{color: var(--muted);font-size:12px;margin-bottom:6px;}
    ul{margin:0;padding-left:16px;color: var(--text);font-size:13px;line-height:1.45;}
    li{margin:4px 0}
    .small{font-size:12.5px;color: var(--text);line-height:1.45;}

    details{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius:14px;
      padding:10px 12px;
      margin-top:10px;
    }
    details summary{
      cursor:pointer;font-weight:750;font-size:13px;color: var(--text);
      list-style:none;display:flex;justify-content:space-between;gap:10px;align-items:center;
    }
    details summary::-webkit-details-marker{display:none}
    .chev{color: var(--muted);font-size:12px}
    details .content{margin-top:10px;color: var(--muted);font-size:12.5px;line-height:1.55;}

    .footer{
      margin-top:18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius: 18px;
      padding:14px;
    }
    .footer h4{margin:0 0 8px;font-size:13px;font-weight:900;}
    .footer .cols{display:grid;grid-template-columns:1fr;gap:12px;}
    @media (min-width: 820px){.footer .cols{grid-template-columns:1fr 1fr 1fr}}

    .inlinebar{
      display:flex;gap:10px;flex-wrap:wrap;align-items:center;
      margin-top:10px;
      color:var(--muted);
      font-size:12.5px;
    }
    .select{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      font-size: 12.5px;
      outline: none;
    }
    .toast{
      position: fixed;bottom: 16px;left: 50%;transform: translateX(-50%);
      background: rgba(17,26,46,.94);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 999px;
      padding: 10px 14px;
      color: var(--text);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      font-size: 12.5px;
      opacity: 0;pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      display:flex;gap:10px;align-items:center;
    }
    .toast.show{opacity: 1;transform: translateX(-50%) translateY(-4px);}
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">DP</div>
        <div>
          <h1>Fixed Deposit / Recurring Deposit ‚Äî Product Notice for Consent</h1>
          <p class="subtitle">
            Covers opening and managing FD/RD, interest/renewal, payouts, compliance and security. Optional choices are separate and can be changed anytime.
          </p>

          <div class="inlinebar">
            <span><strong>Data Fiduciary:</strong> <em>[Legal Name Placeholder]</em></span>
            <span>‚Ä¢</span>
            <span><strong>Notice:</strong> <em>DEPOSITS_NOTICE</em> ‚Ä¢ <strong>Version:</strong> <em>v1.0</em> ‚Ä¢ <strong>Effective:</strong> <em>[DD-MMM-YYYY]</em></span>
            <span>‚Ä¢</span>

            <label for="lang" style="color:var(--muted)"><strong>Language:</strong></label>
            <select id="lang" class="select" aria-label="Language selector">
              <option value="en" selected>English</option>
              <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä (Placeholder)</option>
              <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä (Placeholder)</option>
              <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Placeholder)</option>
              <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Placeholder)</option>
            </select>

            <span>‚Ä¢</span>
            <a href="#" aria-label="Privacy policy link">Privacy Policy</a>
            <span>‚Ä¢</span>
            <a href="#" aria-label="Retention policy link">Retention Policy</a>
          </div>
        </div>
      </div>

      <div class="toolbar">
        <button class="btn primary" id="acceptAll">Accept all optional</button>
        <button class="btn danger" id="denyAll">Deny all optional</button>
        <button class="btn" id="expandAll">Expand all</button>
        <button class="btn" id="collapseAll">Collapse all</button>
      </div>
    </header>

    <div class="pillrow">
      <div class="pill"><span class="dot good"></span>Mandatory (locked)</div>
      <div class="pill"><span class="dot accent"></span>Optional (toggle)</div>
      <div class="pill"><span class="dot warn"></span>Details available (no extra steps to consent)</div>
    </div>

    <main class="grid" id="cards">
      <article class="card" data-card="deposits">
        <div class="cardhead" data-action="toggle-card">
          <div class="cardtitle">
            <div class="ico">üè¶</div>
            <div style="min-width:0">
              <h2>Deposits (FD / RD)</h2>
              <div class="meta">
                <span class="chip"><span style="opacity:.8">Product:</span> <strong>FD / RD</strong></span>
                <span class="chip"><span style="opacity:.8">Ref:</span> <strong>DP ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 2187</strong></span>
              </div>
            </div>
          </div>

          <div class="toggleWrap">
            <div class="status">Contains optional controls</div>
            <div style="display:flex;gap:8px;align-items:center;color:var(--muted);font-size:12px">
              <span style="opacity:.85">Tap to review</span>
            </div>
          </div>
        </div>

        <div class="body" data-body="1">

          <details style="margin-top:12px;">
            <summary>Consent record & audit trail <span class="chev">Click to expand</span></summary>
            <div class="content">
              A secure record of your choices is maintained, including <strong>purpose</strong>, <strong>timestamp</strong>, and <strong>notice version</strong>.
              You may request a copy of your consent record. Optional consents are recorded and enforced separately per purpose.
            </div>
          </details>

          <details style="margin-top:12px;">
            <summary>Cross-border transfers (if applicable) <span class="chev">Click to expand</span></summary>
            <div class="content">
              If any authorised processors store or process data outside India, we will disclose it in the Privacy Policy and ensure applicable safeguards.
              <em>[Platform note: show this only when cross-border processing applies.]</em>
            </div>
          </details>

          <details style="margin-top:12px;">
            <summary>Nominee & payout instructions (as applicable) <span class="chev">Click to expand</span></summary>
            <div class="content">
              If you add nominees or payout instructions, we process the necessary details to honour maturity, interest payouts, and claims, as applicable.
            </div>
          </details>

          <!-- GROUP 1: CORE DEPOSIT PROCESSING (MANDATORY) -->
          <div class="subcard" data-group="dep_core" data-purpose="DEPOSITS_CORE">
            <div class="subhead">
              <div>
                <h3>Open, manage & service FD/RD + compliance + security</h3>
                <div class="submeta">
                  <span class="chip"><span style="opacity:.8">Status:</span> <strong>Mandatory (locked)</strong></span>
                </div>
              </div>

              <div class="toggleWrap">
                <div class="status">Locked ON (mandatory)</div>
                <button class="toggle" role="switch" aria-checked="true" data-key="dep_core" disabled>
                  <span class="knob"></span>
                </button>
              </div>
            </div>

            <div class="row">
              <div>
                <div class="label">Purpose</div>
                <ul>
                  <li>Open and manage FD/RD (tenure, interest, renewals, premature closure)</li>
                  <li>Compute and pay interest; manage maturity payouts</li>
                  <li>Process funding/debits from linked accounts for RD/FD placement</li>
                  <li>Meet legal/regulatory obligations (KYC/AML/audit/recordkeeping)</li>
                  <li>Fraud prevention and security monitoring</li>
                </ul>
              </div>
              <div>
                <div class="label">Withdrawal impact</div>
                <div class="small">
                  Mandatory processing is required to operate the deposit and meet legal obligations.
                  If you close the deposit, active processing stops except what we must retain by law and for dispute resolution.
                </div>
              </div>
            </div>

            <details>
              <summary>Details (data used, sharing, retention, processors) <span class="chev">Click to expand</span></summary>
              <div class="content">
                <div style="margin-bottom:10px;">
                  <div class="label">Data we will use (examples)</div>
                  <ul>
                    <li>Identity & KYC (name, DOB, PAN; Aadhaar only where permitted)</li>
                    <li>Contact (mobile/email/address)</li>
                    <li>Deposit details (principal, tenure, interest rate, payout frequency, maturity date, renewal instructions)</li>
                    <li>Linked account references for funding/payout (masked account refs)</li>
                    <li>Nominee details (where added)</li>
                    <li>Tax-related information (TDS references where applicable)</li>
                    <li>Compliance and audit logs (verification logs, consent logs, servicing logs)</li>
                    <li>Digital session logs (device ID/IP/login timestamps ‚Äî if enabled)</li>
                  </ul>
                </div>

                <div style="margin-bottom:10px;">
                  <div class="label">Processors (acting on our instructions)</div>
                  <ul>
                    <li>Core banking/deposit systems and hosting/security providers under safeguards</li>
                    <li>Messaging providers for statements/alerts</li>
                    <li>Fraud and risk monitoring partners (for security controls)</li>
                  </ul>

                  <div class="label" style="margin-top:10px;">Disclosures (required/allowed by law)</div>
                  <ul>
                    <li>Regulators / authorities where required</li>
                    <li>Tax reporting (where applicable)</li>
                  </ul>
                </div>

                <div style="margin-bottom:10px;">
                  <div class="label">Retention</div>
                  <div class="small">
                    <strong>Minimum:</strong> While the deposit is active<br/>
                    <strong>Typical (banking reference):</strong> <em>[e.g., 5‚Äì10 years after closure ‚Äî configurable]</em><br/>
                    <strong>Maximum:</strong> As required by applicable banking/financial laws and regulators<br/>
                    <strong>Expiry:</strong> After closure/maturity, retained per statutory timelines, then archived/anonymised/deleted as per policy.
                    See <a href="#" aria-label="Retention policy reference">Retention Policy</a>.
                  </div>
                </div>

                <div class="hint">
                  Mandatory processing is needed for deposit operations and compliance; it is not bundled with optional purposes.
                </div>
              </div>
            </details>
          </div>

          <!-- GROUP 2: ESSENTIAL COMMS (MANDATORY) -->
          <div class="subcard" data-group="dep_comms" data-purpose="DEPOSITS_ESSENTIAL_ALERTS">
            <div class="subhead">
              <div>
                <h3>Statements, maturity alerts & essential notifications</h3>
                <div class="submeta">
                  <span class="chip"><span style="opacity:.8">Status:</span> <strong>Mandatory (locked)</strong></span>
                </div>
              </div>

              <div class="toggleWrap">
                <div class="status">Locked ON (mandatory)</div>
                <button class="toggle" role="switch" aria-checked="true" data-key="dep_comms" disabled>
                  <span class="knob"></span>
                </button>
              </div>
            </div>

            <div class="row">
              <div>
                <div class="label">Purpose</div>
                <ul>
                  <li>Send deposit advice, interest/maturity alerts, statements and security notifications</li>
                  <li>Support servicing and grievance communications</li>
                </ul>
              </div>
              <div>
                <div class="label">Withdrawal impact</div>
                <div class="small">Mandatory servicing and security communication cannot be disabled.</div>
              </div>
            </div>

            <details>
              <summary>Details (data used, sharing, retention, processors) <span class="chev">Click to expand</span></summary>
              <div class="content">
                <div style="margin-bottom:10px;">
                  <div class="label">Data we will use (examples)</div>
                  <ul>
                    <li>Contact (mobile/email)</li>
                    <li>Deposit references (masked deposit ref, maturity date, amount)</li>
                  </ul>
                </div>

                <div style="margin-bottom:10px;">
                  <div class="label">Processors (acting on our instructions)</div>
                  <ul>
                    <li>SMS/email delivery providers (authorised processors)</li>
                    <li>Deposit servicing systems</li>
                  </ul>
                </div>

                <div style="margin-bottom:10px;">
                  <div class="label">Retention</div>
                  <div class="small">
                    <strong>Minimum:</strong> While you use the service<br/>
                    <strong>Maximum:</strong> As required for audit/disputes under applicable laws<br/>
                    <strong>Expiry:</strong> As per statutory timelines after closure. See <a href="#" aria-label="Retention policy reference">Retention Policy</a>.
                  </div>
                </div>

                <div class="hint">
                  This purpose is recorded and enforced independently for auditability.
                </div>
              </div>
            </details>
          </div>

          <!-- GROUP 3: OFFERS (OPTIONAL) -->
          <div class="subcard" data-group="dep_marketing" data-purpose="DEPOSITS_MARKETING">
            <div class="subhead">
              <div>
                <h3>Offers & promotions</h3>
                <div class="submeta">
                  <span class="chip"><span style="opacity:.8">Status:</span> <strong>Optional (toggle)</strong></span>
                </div>
              </div>

              <div class="toggleWrap">
                <div class="status" data-status="dep_marketing">OFF</div>
                <button class="toggle" role="switch" aria-checked="false" data-key="dep_marketing">
                  <span class="knob"></span>
                </button>
              </div>
            </div>

            <div class="row">
              <div>
                <div class="label">Purpose</div>
                <ul>
                  <li>Send offers (e.g., renewal rates, special deposit plans) and marketing communications</li>
                </ul>
              </div>
              <div>
                <div class="label">Withdrawal impact</div>
                <div class="small">
                  You can withdraw anytime. Deposit services are not affected.
                  Processing linked to withdrawn consent stops going forward.
                </div>
              </div>
            </div>

            <details>
              <summary>Details (data used, sharing, retention, processors) <span class="chev">Click to expand</span></summary>
              <div class="content">
                <div style="margin-bottom:10px;">
                  <div class="label">Data we will use (examples)</div>
                  <ul>
                    <li>Basic profile and relationship signals (not sensitive data for targeting)</li>
                  </ul>
                </div>

                <div style="margin-bottom:10px;">
                  <div class="label">Processors (acting on our instructions)</div>
                  <ul>
                    <li>CRM/SMS/email tools (authorised processors)</li>
                  </ul>
                </div>

                <div style="margin-bottom:10px;">
                  <div class="label">Retention</div>
                  <div class="small">
                    <strong>Minimum:</strong> While consent is active<br/>
                    <strong>Maximum:</strong> As per internal policy<br/>
                    <strong>Expiry:</strong> On withdrawal (processing stops going forward). See <a href="#" aria-label="Retention policy reference">Retention Policy</a>.
                  </div>
                </div>

                <div class="hint">
                  This consent is recorded and enforced independently for this purpose and can be withdrawn without affecting other purposes.
                </div>
              </div>
            </details>

            <div class="hint">Optional: not required for opening or managing FD/RD.</div>
          </div>

          <!-- GROUP 4: NON-ESSENTIAL ANALYTICS (OPTIONAL) -->
          <div class="subcard" data-group="dep_analytics" data-purpose="DEPOSITS_NONESSENTIAL_ANALYTICS">
            <div class="subhead">
              <div>
                <h3>Non-essential service improvement analytics</h3>
                <div class="submeta">
                  <span class="chip"><span style="opacity:.8">Status:</span> <strong>Optional (toggle)</strong></span>
                </div>
              </div>

              <div class="toggleWrap">
                <div class="status" data-status="dep_analytics">OFF</div>
                <button class="toggle" role="switch" aria-checked="false" data-key="dep_analytics">
                  <span class="knob"></span>
                </button>
              </div>
            </div>

            <div class="row">
              <div>
                <div class="label">Purpose</div>
                <ul>
                  <li>Improve experience using non-essential analytics (e.g., usability, error reduction)</li>
                </ul>
              </div>
              <div>
                <div class="label">Withdrawal impact</div>
                <div class="small">
                  You can withdraw anytime. Deposit services are not affected.
                  Processing linked to withdrawn consent stops going forward.
                </div>
              </div>
            </div>

            <details>
              <summary>Details (data used, sharing, retention, processors) <span class="chev">Click to expand</span></summary>
              <div class="content">
                <div style="margin-bottom:10px;">
                  <div class="label">Data we will use (examples)</div>
                  <ul>
                    <li>Usage signals (feature usage, crash/error logs) and aggregated patterns</li>
                  </ul>
                </div>

                <div style="margin-bottom:10px;">
                  <div class="label">Processors (acting on our instructions)</div>
                  <ul>
                    <li>Authorised analytics tooling (if used) under safeguards</li>
                  </ul>
                </div>

                <div style="margin-bottom:10px;">
                  <div class="label">Retention</div>
                  <div class="small">
                    <strong>Minimum:</strong> While consent is active<br/>
                    <strong>Maximum:</strong> As per internal policy<br/>
                    <strong>Expiry:</strong> On withdrawal or closure. See <a href="#" aria-label="Retention policy reference">Retention Policy</a>.
                  </div>
                </div>

                <div class="hint">
                  This consent is recorded and enforced independently for this purpose and can be withdrawn without affecting other purposes.
                </div>
              </div>
            </details>

            <div class="hint">Optional: used only to improve service, not for deposit operations.</div>
          </div>

        </div>
      </article>
    </main>

    <section class="footer">
      <h4>Your Rights</h4>
      <div class="cols">
        <div class="small">
          <div class="label">Rights available</div>
          <ul>
            <li>Access and review your personal data</li>
            <li>Correct inaccurate data</li>
            <li>Withdraw optional consent at any time</li>
            <li>Request erasure, where applicable</li>
            <li>Grievance redressal</li>
          </ul>
          <div class="hint">
            A record of your consent, including purpose, timestamp, and notice version, is securely maintained and may be requested.
          </div>
        </div>

        <div class="small">
          <div class="label">How to withdraw consent</div>
          You can withdraw optional consents anytime from <strong>Profile ‚Üí Privacy Settings</strong>.
          Withdrawal is as easy as giving consent. Processing linked to withdrawn consent stops going forward, subject to legal/regulatory obligations.
        </div>

        <div class="small">
          <div class="label">Grievance & contact</div>
          <strong>Data Protection Officer / Grievance Officer:</strong> <em>[email / phone placeholder]</em><br/>
          <span style="color:var(--muted)">You will receive an acknowledgement and reference number for tracking.</span>
        </div>
      </div>
    </section>
  </div>

  <div class="toast" id="toast"><span class="dot accent"></span><span id="toastText">Updated.</span></div>

  <script>
    const toastEl = document.getElementById("toast");
    const toastText = document.getElementById("toastText");
    function showToast(msg){
      toastText.textContent = msg;
      toastEl.classList.add("show");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=> toastEl.classList.remove("show"), 1400);
    }
    function setSwitch(btn, on){
      btn.setAttribute("aria-checked", on ? "true" : "false");
      const key = btn.dataset.key;
      const statusEl = document.querySelector(`[data-status="${key}"]`);
      if(statusEl) statusEl.textContent = on ? "ON" : "OFF";
    }

    document.querySelectorAll('[data-action="toggle-card"]').forEach(head => {
      head.addEventListener("click", (e) => {
        if(e.target.closest(".toggle")) return;
        const card = head.closest(".card");
        const body = card.querySelector('.body[data-body="1"]');
        const isOpen = body.style.display !== "none";
        body.style.display = isOpen ? "none" : "block";
      });
    });

    document.querySelectorAll(".toggle").forEach(btn => {
      btn.addEventListener("click", (e) => {
        e.stopPropagation();
        if(btn.disabled) return;
        const on = btn.getAttribute("aria-checked") !== "true";
        setSwitch(btn, on);
        showToast(`${btn.dataset.key.replaceAll("_"," ")} set to ${on ? "ON" : "OFF"}`);
      });
    });

    document.getElementById("acceptAll").addEventListener("click", () => {
      document.querySelectorAll(
        '.toggle[data-key="dep_marketing"], .toggle[data-key="dep_analytics"]'
      ).forEach(b => setSwitch(b, true));
      showToast("Accepted all optional");
    });
    document.getElementById("denyAll").addEventListener("click", () => {
      document.querySelectorAll(
        '.toggle[data-key="dep_marketing"], .toggle[data-key="dep_analytics"]'
      ).forEach(b => setSwitch(b, false));
      showToast("Denied all optional");
    });
    document.getElementById("expandAll").addEventListener("click", () => {
      document.querySelectorAll('.body[data-body="1"]').forEach(b => b.style.display = "block");
      showToast("Expanded all");
    });
    document.getElementById("collapseAll").addEventListener("click", () => {
      document.querySelectorAll('.body[data-body="1"]').forEach(b => b.style.display = "none");
      showToast("Collapsed all");
    });

    document.getElementById("lang").addEventListener("change", (e) => {
      showToast(`Language set to: ${e.target.options[e.target.selectedIndex].text} (placeholder)`);
    });
  </script>
</body>
</html>
